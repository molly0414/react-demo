{"version":3,"sources":["pages/MyCart.jsx","contexts/ProductsProvider.jsx","components/ProductCard.jsx","pages/Products.jsx","pages/ProductDetail.jsx","App.js","reportWebVitals.js","index.js"],"names":["MyCart","className","initialState","products","isLoading","isLoaded","ProductsContext","createContext","reducer","state","action","console","log","type","payload","Error","getProducts","dispatch","axios","get","then","response","data","catch","error","ProductsProvider","children","useReducer","Provider","value","Meta","Card","ProductCard","style","height","loading","title","description","to","pathname","id","hoverable","cover","alt","src","image","name","price","Products","useContext","productsList","useEffect","gutter","Array","fill","map","_","index","key","xs","sm","md","xl","Option","Select","ProductDetail","useParams","size","min","max","options","i","Math","floor","random","push","product","find","obj","toString","defaultValue","width","icon","ShoppingCartOutlined","Header","Layout","Content","Footer","Search","Input","App","useState","current","setCurrent","basename","placeholder","allowClear","onSearch","theme","onClick","e","selectedKeys","mode","Item","HomeOutlined","padding","path","element","textAlign","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0299fc8f.chunk.js","sourcesContent":["import React from 'react';\n\nconst MyCart = () => {\n    return (<div className=\"site-layout-content\"><h2>My Cart Content</h2></div>);\n};\n\nexport default MyCart","import React, { useReducer, createContext } from \"react\";\nimport axios from \"axios\";\n\nconst initialState = {\n  products: null,\n  isLoading: false,\n  isLoaded: false\n};\n\nexport const ProductsContext = createContext();\n\nconst reducer = (state, action) => {\n  console.log(\"Pinned dispatched\", action)\n  switch (action.type) {\n    case \"GET_PRODUCTS_REQUEST\":\n      return {\n        ...state,\n        isLoading: true,\n        isLoaded: false\n      };\n    case \"GET_PRODUCTS_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isLoaded: true,\n        products: action.payload.products\n      };\n    case \"GET_PRODUCTS_FAILURE\":\n      return {\n        ...state,\n        products: null,\n        isLoading: false,\n        isLoaded: false\n      };\n    default:\n      throw new Error(`Unknown action: ${action.type}`);\n  }\n};\n\nconst ProductsProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <ProductsContext.Provider value={{ state, dispatch }}>\n        {children}\n    </ProductsContext.Provider>\n  );\n};\n\nexport const getProducts = (dispatch) => {\n  dispatch({\n    type: \"GET_PRODUCTS_REQUEST\"\n  });\n  axios\n    .get(\"https://molly0414.github.io/react-demo/data/items.json\")\n    .then((response) => {\n      dispatch({\n        type: \"GET_PRODUCTS_SUCCESS\",\n        payload: {\n          products: response.data\n        }\n      });\n    })\n    .catch((error) => {\n      console.error(error);\n      dispatch({\n        type: \"GET_PRODUCTS_FAILURE\"\n      });\n    });\n};\n\nexport default ProductsProvider;","import React from \"react\";\nimport { Card, Skeleton } from 'antd';\nimport { Link } from \"react-router-dom\";\n\nconst { Meta } = Card;\n\nconst ProductCard = ({ data }) => {\n\n  if (data === null) {\n    return (\n      <Card style={{ height: 300 }}>\n        <Skeleton loading=\"true\" />\n        <Meta title=\"\" description=\"\"/>    \n      </Card>\n    );\n  } else {\n    return (\n      <Link to={{ pathname: \"/item/\" + data.id, state: data }}>\n        <Card hoverable cover={<img alt={data.title} src={data.image}/>}>\n          <Meta title={data.name} description={\"NT$ \" + data.price}/>    \n        </Card>\n      </Link>\n    );\n  }\n};\n\nexport default ProductCard;","import React, { useEffect, useContext } from \"react\";\nimport { ProductsContext, getProducts } from \"contexts/ProductsProvider\";\nimport { Row, Col } from 'antd';\nimport ProductCard from \"components/ProductCard\";\n\nconst Products = () => {\n  const { state, dispatch } = useContext(ProductsContext);\n  const { products, isLoading, isLoaded } = state\n\n  const productsList = products ;\n\n  useEffect(() => {\n    getProducts(dispatch);\n  }, [dispatch]);\n\n  if (isLoading) {\n    return (\n      <div className=\"site-layout-content\">\n        <Row gutter={[24, 24]}>\n          {new Array(8).fill(null).map((_, index) => {\n            const key = index + 1;\n            return (\n              <Col key={key} xs={24} sm={12} md={8} xl={6}>\n                <ProductCard data={null}/>\n              </Col>\n              );\n          })}\n        </Row>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"site-layout-content\">\n      <Row gutter={[24, 24]}>\n        {isLoaded && productsList.map((data) => \n          <Col key={data.id} xs={24} sm={12} md={8} xl={6}>\n            <ProductCard data={data}/>\n          </Col>)\n        }\n      </Row>\n    </div>\n  );\n};\n\nexport default Products","import React, { useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router\";\nimport { ProductsContext, getProducts } from \"contexts/ProductsProvider\";\nimport { Spin, Empty, Image, Row, Col, Button, Select, Space } from 'antd'\nimport { ShoppingCartOutlined } from '@ant-design/icons';\n\nconst { Option } = Select\nconst ProductDetail = () => {\n  let { id } = useParams();\n  const { state, dispatch } = useContext(ProductsContext);\n  const { products, isLoading, isLoaded } = state\n\n  useEffect(() => {\n    getProducts(dispatch);\n  }, [dispatch]);\n\n  if (isLoading) {\n    return (<div className=\"center-content site-layout-content\"><Spin size=\"large\" /></div>)  \n  }\n\n  const options = [];\n  for (let i = 1; i < getRandom(2, 10); i++) {\n    options.push(<Option key={i} value={i}>{i}</Option>);\n  }\n\n  if (isLoaded && products) {\n    let product = products.find(obj => obj.id.toString() === id);\n    return (\n      <div className=\"site-layout-content\">\n        <Row gutter={[24, 24]}>\n          <Col xs={24} sm={6}>\n            <Image src={product.image} />\n          </Col>\n          <Col xs={24} sm={18}>\n            <h1 className=\"title\">{product.name}</h1>\n            <h1 className=\"price\">NT$ {product.price}</h1>\n            <Space>\n              <Select size=\"large\" defaultValue=\"1\" style={{ width: 60 }}>\n                {options}\n              </Select>\n              <Button type=\"primary\" size=\"large\" icon={<ShoppingCartOutlined />}>ADD TO CART</Button>\n            </Space>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  return <Empty />  \n};\n\nfunction getRandom(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nexport default ProductDetail;\n","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport { Layout, Menu, Input } from 'antd';\nimport { HomeOutlined, ShoppingCartOutlined } from '@ant-design/icons';\nimport 'App.css';\nimport MyCart from \"pages/MyCart\";\nimport Products from \"pages/Products\";\nimport ProductDetail from 'pages/ProductDetail';\nimport ProductsProvider from \"contexts/ProductsProvider\";\n\nconst { Header, Content, Footer } = Layout;\nconst { Search } = Input;\n\nfunction App() {\n  const [current, setCurrent] = useState('home');\n  const onSearch = (value) => console.log(value);\n  return (\n    <ProductsProvider>\n      <Router basename=\"/react-demo\">\n        <Layout className=\"layout\">\n          <Header className=\"header\">\n            <div className=\"logo\"><Link to=\"/\">Test Logo</Link></div>\n            <Search\n              className=\"search hidden-sm\"\n              placeholder=\"input search text\"\n              allowClear\n              onSearch={onSearch}\n            />\n            <Menu \n              className=\"menu\" \n              theme=\"light\" \n              onClick={(e) => setCurrent(e.key)} \n              selectedKeys={[current]} \n              mode=\"horizontal\">\n              <Menu.Item key=\"home\" icon={<HomeOutlined />}><Link to=\"/\">Home</Link></Menu.Item>\n              <Menu.Item key=\"cart\" icon={<ShoppingCartOutlined />}><Link to=\"/my-cart\">My Cart</Link></Menu.Item>\n            </Menu>\n          </Header>\n          <Content style={{ padding: '48px' }}>\n            <Routes>\n              <Route path=\"/\" element={<Products />} />\n              <Route path=\"/my-cart\" element={<MyCart />} />\n              <Route path=\"/item/:id\" element={<ProductDetail />} />\n            </Routes>\n          </Content>\n          <Footer style={{ textAlign: 'center' }}>©2021 Created by Molly Wu</Footer>\n        </Layout>\n      </Router>  \n    </ProductsProvider>\n  )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}