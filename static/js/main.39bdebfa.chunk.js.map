{"version":3,"sources":["contexts/ProductsProvider.jsx","hook/useLocalStorage.js","contexts/CartProvider.jsx","components/ProductCard.jsx","pages/Products.jsx","pages/ProductDetail.jsx","components/CartItem.jsx","pages/MyCart.jsx","components/AppContent.jsx","App.js","reportWebVitals.js","index.js"],"names":["initialState","products","isLoading","isLoaded","ProductsContext","createContext","reducer","state","action","console","log","type","payload","Error","getProducts","dispatch","axios","get","then","response","data","catch","error","ProductsProvider","children","useReducer","Provider","value","useLocalStorage","key","initialValue","React","useState","item","window","localStorage","getItem","JSON","parse","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","items","CartContext","id","newItem","cartItems","map","includes","quantity","changeItemId","newQuantity","filter","removeItemId","CartProvider","persistedCartItems","setPersistedCartItems","persistedCartState","itemJsonString","useEffect","Meta","Card","ProductCard","style","height","loading","title","description","to","pathname","hoverable","cover","alt","src","image","name","price","Products","searchKeyword","useContext","productsList","product","toLowerCase","gutter","Array","fill","_","index","xs","sm","md","xl","length","Option","Select","getRandom","min","max","Math","floor","random","ProductDetail","selectedQuantity","setSelectedQuantity","useParams","productDispatch","cartDispatch","className","size","options","i","push","find","obj","toString","justify","defaultValue","width","onChange","icon","ShoppingCartOutlined","onClick","Number","addToCart","confirm","Modal","CartItem","CloseOutlined","marginRight","itemId","changeQuantity","DeleteOutlined","okText","cancelText","onOk","removeFromCart","MyCart","Header","Layout","Content","Footer","Search","Input","AppContent","navigate","useNavigate","setSearchKeyword","current","setCurrent","clearSearch","placeholder","allowClear","onSearch","theme","e","selectedKeys","mode","Item","HomeOutlined","count","path","element","textAlign","App","basename","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.39bdebfa.chunk.js","sourcesContent":["import React, { useReducer, createContext } from \"react\";\nimport axios from \"axios\";\n\nconst initialState = {\n  products: null,\n  isLoading: false,\n  isLoaded: false\n};\n\nexport const ProductsContext = createContext();\n\nconst reducer = (state, action) => {\n  console.log(\"Pinned dispatched\", action)\n  switch (action.type) {\n    case \"GET_PRODUCTS_REQUEST\":\n      return {\n        ...state,\n        isLoading: true,\n        isLoaded: false\n      };\n    case \"GET_PRODUCTS_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isLoaded: true,\n        products: action.payload.products\n      };\n    case \"GET_PRODUCTS_FAILURE\":\n      return {\n        ...state,\n        products: null,\n        isLoading: false,\n        isLoaded: false\n      };\n    default:\n      throw new Error(`Unknown action: ${action.type}`);\n  }\n};\n\nconst ProductsProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <ProductsContext.Provider value={{ state, dispatch }}>\n        {children}\n    </ProductsContext.Provider>\n  );\n};\n\nexport const getProducts = (dispatch) => {\n  dispatch({\n    type: \"GET_PRODUCTS_REQUEST\"\n  });\n  axios\n    .get(\"https://molly0414.github.io/react-demo/data/items.json\")\n    .then((response) => {\n      dispatch({\n        type: \"GET_PRODUCTS_SUCCESS\",\n        payload: {\n          products: response.data\n        }\n      });\n    })\n    .catch((error) => {\n      console.error(error);\n      dispatch({\n        type: \"GET_PRODUCTS_FAILURE\"\n      });\n    });\n};\n\nexport default ProductsProvider;","import React from \"react\";\n\nfunction useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = React.useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;","import React, { useReducer, createContext, useEffect } from \"react\";\nimport useLocalStorage from \"hook/useLocalStorage\";\n\nconst initialState = {\n  items: [],\n};\n\nexport const CartContext = createContext();\n\nconst reducer = (state, action) => {\n  console.log(\"Pinned dispatched: \", action);\n  switch (action.type) {\n    case \"ADD_ITEM_TO_CART\":\n      const id = action.payload.newItem.id;\n      const isOld = state.items.map((item) => item.id).includes(id);\n      let cartItems = null;\n\n      if (isOld) {\n        const items = state.items.map((item) => {\n          if (item.id === id) {\n            return {\n              ...item,\n              quantity: item.quantity + action.payload.newItem.quantity,\n            };\n          }\n          return item;\n        });\n        cartItems = items;\n      } else {\n        cartItems = [...state.items, action.payload.newItem];\n      }\n      return {\n        items: cartItems,\n      };\n    case \"CHANGE_COUNT\":\n      const items = state.items.map((item) => {\n          if (item.id === action.payload.changeItemId) {\n            return {\n              ...item,\n              quantity: action.payload.newQuantity,\n            };\n          }\n          return item;\n        });\n      return {\n        items: items\n      };\n    case \"REMOVE_FROM_CART\":\n      return {\n        items: state.items.filter((item) => item.id !== action.payload.removeItemId),\n      };\n    case \"CLEAR_CART\":\n      return initialState;\n    default:\n      throw new Error(`Unknown action: ${action.type}`);\n  }\n};\n\nconst CartProvider = ({ children }) => {\n  const [persistedCartItems, setPersistedCartItems] = useLocalStorage(\n    \"cartItems\",\n    []\n  );\n  const persistedCartState = {\n    items: persistedCartItems || [],\n  };\n  const [state, dispatch] = useReducer(reducer, persistedCartState);\n  const itemJsonString = JSON.stringify(state.items);\n  useEffect(() => {\n    setPersistedCartItems(state.items);\n  }, [setPersistedCartItems, state.items, itemJsonString]);\n  return (\n    <CartContext.Provider value={{ state, dispatch }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const addToCart = (dispatch, item) => {\n  return dispatch({\n    type: \"ADD_ITEM_TO_CART\",\n    payload: {\n      newItem: item,\n    },\n  });\n};\n\nexport const removeFromCart = (dispatch, itemId) => {\n  return dispatch({\n    type: \"REMOVE_FROM_CART\",\n    payload: {\n      removeItemId: itemId,\n    },\n  });\n};\n\nexport const changeQuantity = (dispatch, itemId, quantity) => {\n  return dispatch({\n    type: \"CHANGE_COUNT\",\n    payload: {\n      changeItemId: itemId,\n      newQuantity: quantity\n    }\n  })\n} \n\nexport const clearCart = (dispatch) => {\n  return dispatch({\n    type: \"CLEAR_CART\",\n  });\n};\n\nexport default CartProvider;\n","import React from \"react\";\nimport { Card, Skeleton } from 'antd';\nimport { Link } from \"react-router-dom\";\n\nconst { Meta } = Card;\n\nconst ProductCard = ({ data }) => {\n  if (data === null) {\n    return (\n      <Card style={{ height: 300 }}>\n        <Skeleton loading=\"true\" />\n        <Meta title=\"\" description=\"\"/>    \n      </Card>\n    );\n  } else {\n    return (\n      <Link to={{ pathname: \"/item/\" + data.id }}>\n        <Card hoverable cover={<img alt={data.title} src={data.image}/>}>\n          <Meta title={data.name} description={\"NT$ \" + data.price}/>    \n        </Card>\n      </Link>\n    );\n  }\n};\n\nexport default ProductCard;","import React, { useEffect, useContext } from \"react\";\nimport { ProductsContext, getProducts } from \"contexts/ProductsProvider\";\nimport { Row, Col, Empty } from 'antd';\nimport ProductCard from \"components/ProductCard\";\n\nconst Products = ({ searchKeyword }) => {\n  const { state, dispatch } = useContext(ProductsContext);\n  const { products, isLoading, isLoaded } = state\n\n  const productsList = \n  products && products.filter((product) => {\n    return (\n      product.name.toLowerCase().includes(searchKeyword.toLowerCase()) || !searchKeyword\n    );\n  });\n\n  useEffect(() => {\n    getProducts(dispatch);\n  }, [dispatch]);\n\n  if (isLoading) {\n    return (\n      <Row gutter={[24, 24]}>\n        {new Array(12).fill(null).map((_, index) => {\n          const key = index + 1;\n          return (\n            <Col key={key} xs={12} sm={8} md={6} xl={4}>\n              <ProductCard data={null}/>\n            </Col>\n            );\n        })}\n      </Row>\n    );\n  }\n\n  if (isLoaded && productsList.length > 0) {\n    return (\n      <Row gutter={[24, 24]}>\n        {productsList.map((data) => \n          <Col key={data.id} xs={12} sm={8} md={6} xl={4}>\n            <ProductCard data={data}/>\n          </Col>)\n        }\n      </Row>\n    );\n  }\n\n  return <Empty />;\n};\n\nexport default Products","import React, { useEffect, useContext, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { ProductsContext, getProducts } from \"contexts/ProductsProvider\";\nimport { Spin, Empty, Image, Row, Col, Button, Select, Space } from 'antd'\nimport { ShoppingCartOutlined } from '@ant-design/icons';\nimport { CartContext, addToCart } from \"contexts/CartProvider\";\n\nconst { Option } = Select\nconst ProductDetail = () => {\n  const [ selectedQuantity, setSelectedQuantity ] = useState(\"1\")\n  let { id } = useParams();\n  const { state, dispatch: productDispatch } = useContext(ProductsContext);\n  const { products, isLoading, isLoaded } = state\n  const { dispatch: cartDispatch } = useContext(CartContext);\n\n  useEffect(() => {\n    getProducts(productDispatch);\n  }, [productDispatch]);\n\n  if (isLoading) {\n    return (<div className=\"center-content\"><Spin size=\"large\" /></div>)  \n  }\n\n  const options = [];\n  for (let i = 1; i < getRandom(2, 10); i++) {\n    options.push(<Option key={i} value={i}>{i}</Option>);\n  }\n\n  if (isLoaded && products) {\n    let product = products.find(obj => obj.id.toString() === id);\n    const handleAddToCart = () => {\n      const item = { ...product, quantity: Number(selectedQuantity) };\n      addToCart(cartDispatch, item);\n    };\n\n    return (\n      <Row gutter={[24, 24]} justify=\"center\">\n        <Col xs={18} sm={9} md={6}>\n          <Image src={product.image} />\n        </Col>\n        <Col xs={18} sm={12} md={8}>\n          <h1 className=\"title\">{product.name}</h1>\n          <h1 className=\"price\">NT$ {product.price}</h1>\n          <Space>\n            <Select defaultValue=\"1\" style={{ width: 60 }} onChange={setSelectedQuantity}>\n              {options}\n            </Select>\n            <Button type=\"primary\" icon={<ShoppingCartOutlined />} onClick={handleAddToCart}>ADD TO CART</Button>\n          </Space>\n        </Col>\n      </Row>\n    );\n  }\n  return <Empty />  \n};\n\nexport const getRandom = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nexport default ProductDetail;\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext, removeFromCart, changeQuantity } from \"contexts/CartProvider\";\nimport { Button, Modal, Select } from \"antd\";\nimport { CloseOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { getRandom } from \"pages/ProductDetail\";\n\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nconst CartItem = ({ data }) => {\n  const { dispatch } = useContext(CartContext);\n\n  const options = [];\n  for (let i = 1; i < getRandom(data.quantity, 10) + 1; i++) {\n    options.push(\n      <Option key={i} value={i}>\n        {i}\n      </Option>\n    );\n  }\n\n  const handleRemove = () => {\n    confirm({\n      title: \"Are you sure you want to delete \" + data.name + \"?\",\n      icon: <DeleteOutlined />,\n      okText: \"Yes\",\n      cancelText: \"No\",\n      onOk() {\n        removeFromCart(dispatch, data.id);\n      },\n    });\n  };\n\n  const handleChange = (value) => {\n    changeQuantity(dispatch, data.id, Number(value))\n  }\n\n  return (\n    <div className=\"cart-item\">\n      <Link to={{ pathname: \"/item/\" + data.id }} style={{ height: \"100%\" }}>\n        <img\n          alt={data.title}\n          src={data.image}\n          className=\"cart-item-img hidden-sm\"\n        />\n      </Link>\n      <Link to={{ pathname: \"/item/\" + data.id }}>\n        <h3 className=\"cart-item-title\">{data.name}</h3>\n      </Link>\n      <h3 className=\"cart-item-price\">NT$ {data.price}</h3>\n      <CloseOutlined style={{ marginRight: 8 }} />\n      <Select defaultValue={data.quantity} style={{ width: 60 }} onChange={handleChange}>\n        {options}\n      </Select>\n      <Button\n        type=\"text\"\n        icon={<DeleteOutlined />}\n        onClick={handleRemove}\n        className=\"cart-item-delete\"\n      />\n    </div>\n  );\n};\n\nexport default CartItem;\n","import React, { useContext } from \"react\";\nimport { CartContext } from \"contexts/CartProvider\";\nimport { Row, Col, Empty } from \"antd\";\nimport CartItem from \"components/CartItem\";\n\nconst MyCart = () => {\n  const { state } = useContext(CartContext);\n  const { items } = state;\n\n  if (items.length > 0) {\n    return (\n      <Row gutter={[12, 12]} justify=\"center\">\n        {items.map((data) => (\n          <Col key={data.id} xs={24} sm={21} md={18} xl={15}>\n            <CartItem data={data}/>\n          </Col>\n        ))}\n      </Row>\n    );\n  }\n\n  return <Empty />;\n};\n\nexport default MyCart;\n","import React, { useState, useContext } from \"react\";\nimport { Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport { Layout, Menu, Input, Badge } from \"antd\";\nimport { HomeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport Products from \"pages/Products\";\nimport ProductDetail from 'pages/ProductDetail';\nimport MyCart from \"pages/MyCart\"; \nimport { CartContext } from \"contexts/CartProvider\";\nimport 'App.css';\n\nconst { Header, Content, Footer } = Layout;\nconst { Search } = Input;\n\nfunction AppContent() {\n  let navigate = useNavigate();\n  const [searchKeyword, setSearchKeyword] = useState(\"\");\n  const [current, setCurrent] = useState(\"home\");\n  const { state } = useContext(CartContext);\n\n  const onSearch = (value) => {\n    setSearchKeyword(value);\n    navigate(\"/\");\n    setCurrent(\"home\")\n  };\n  const clearSearch = () => {\n    setSearchKeyword(\"\");\n  };\n\n  return (\n    <Layout className=\"layout\">\n      <Header className=\"header\">\n        <div className=\"logo\">\n          <Link to=\"/\" onClick={clearSearch}>\n            Test Logo\n          </Link>\n        </div>\n        <Search\n          className=\"search hidden-sm\"\n          placeholder=\"Input search text\"\n          allowClear\n          onSearch={onSearch}\n        />\n        <Menu\n          className=\"menu\"\n          theme=\"light\"\n          onClick={(e) => setCurrent(e.key)}\n          selectedKeys={[current]}\n          mode=\"horizontal\"\n        >\n          <Menu.Item key=\"home\" icon={<HomeOutlined />}>\n            <Link to=\"/\" onClick={clearSearch}>\n              Home\n            </Link>\n          </Menu.Item>\n          <Menu.Item key=\"cart\" icon={<ShoppingCartOutlined />}>\n            <Link to=\"/my-cart\">My Cart <Badge count={state.items.length} size=\"small\"><p/></Badge></Link>\n          </Menu.Item>\n        </Menu>\n      </Header>\n      <Content className=\"site-layout-content\">\n        <Routes>\n          <Route\n            path=\"/\"\n            element={<Products searchKeyword={searchKeyword} />}\n          />\n          <Route path=\"/my-cart\" element={<MyCart />} />\n          <Route path=\"/item/:id\" element={<ProductDetail />} />\n        </Routes>\n      </Content>\n      <Footer style={{ textAlign: \"center\" }}>Â©2021 Created by Molly Wu</Footer>\n    </Layout>\n  );\n}\n\nexport default AppContent;\n","import React from 'react';\nimport ProductsProvider from \"contexts/ProductsProvider\";\nimport CartProvider from 'contexts/CartProvider';\nimport AppContent from 'components/AppContent';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <ProductsProvider>\n      <CartProvider>\n        <Router basename=\"/react-demo\">\n          <AppContent />\n        </Router>\n      </CartProvider> \n    </ProductsProvider>\n  )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}