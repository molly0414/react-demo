{"version":3,"sources":["contexts/ProductsProvider.jsx","hook/useLocalStorage.js","contexts/CartProvider.jsx","components/ProductCard.jsx","pages/Products.jsx","pages/ProductDetail.jsx","components/CartItem.jsx","pages/MyCart.jsx","components/AppContent.jsx","App.js","reportWebVitals.js","index.js"],"names":["initialState","products","isLoading","isLoaded","ProductsContext","createContext","reducer","state","action","console","log","type","payload","Error","getProducts","dispatch","axios","get","then","response","data","catch","error","ProductsProvider","children","useReducer","Provider","value","useLocalStorage","key","initialValue","React","useState","item","window","localStorage","getItem","JSON","parse","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","items","CartContext","id","newItem","cartItems","map","includes","newQuantity","quantity","changeItemId","filter","removeItemId","CartProvider","persistedCartItems","setPersistedCartItems","persistedCartState","itemJsonString","useEffect","Meta","Card","ProductCard","style","height","loading","title","description","to","pathname","hoverable","cover","alt","src","image","name","price","Products","searchKeyword","useContext","productsList","product","toLowerCase","gutter","Array","fill","_","index","xs","sm","md","xl","length","Option","Select","ProductDetail","selectedQuantity","setSelectedQuantity","useParams","productDispatch","cartDispatch","className","size","options","i","push","find","obj","toString","justify","defaultValue","width","onChange","icon","ShoppingCartOutlined","onClick","Number","addToCart","message","success","confirm","Modal","CartItem","CloseOutlined","marginRight","itemId","changeQuantity","DeleteOutlined","okText","cancelText","okType","onOk","removeFromCart","MyCart","totalPrice","clearCart","marginTop","marginBottom","CheckCircleFilled","Header","Layout","Content","Footer","Search","Input","AppContent","navigate","useNavigate","setSearchKeyword","current","setCurrent","clearSearch","placeholder","allowClear","onSearch","theme","e","selectedKeys","mode","Item","HomeOutlined","count","path","element","textAlign","App","basename","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wPAGMA,EAAe,CACnBC,SAAU,KACVC,WAAW,EACXC,UAAU,GAGCC,EAAkBC,0BAEzBC,EAAU,SAACC,EAAOC,GAEtB,OADAC,QAAQC,IAAI,oBAAqBF,GACzBA,EAAOG,MACb,IAAK,uBACH,OAAO,2BACFJ,GADL,IAEEL,WAAW,EACXC,UAAU,IAEd,IAAK,uBACH,OAAO,2BACFI,GADL,IAEEL,WAAW,EACXC,UAAU,EACVF,SAAUO,EAAOI,QAAQX,WAE7B,IAAK,uBACH,OAAO,2BACFM,GADL,IAEEN,SAAU,KACVC,WAAW,EACXC,UAAU,IAEd,QACE,MAAM,IAAIU,MAAJ,0BAA6BL,EAAOG,SAanCG,EAAc,SAACC,GAC1BA,EAAS,CACPJ,KAAM,yBAERK,IACGC,IAAI,0DACJC,MAAK,SAACC,GACLJ,EAAS,CACPJ,KAAM,uBACNC,QAAS,CACPX,SAAUkB,EAASC,WAIxBC,OAAM,SAACC,GACNb,QAAQa,MAAMA,GACdP,EAAS,CACPJ,KAAM,6BAKCY,EA/BU,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,EAA0BC,qBAAWnB,EAASN,GAA9C,mBAAOO,EAAP,KAAcQ,EAAd,KACA,OACE,cAACX,EAAgBsB,SAAjB,CAA0BC,MAAO,CAAEpB,QAAOQ,YAA1C,SACKS,K,SChBMI,MAzBf,SAAyBC,EAAKC,GAC5B,MAAsCC,IAAMC,UAAS,WACnD,IACE,IAAMC,EAAOC,OAAOC,aAAaC,QAAQP,GACzC,OAAOI,EAAOI,KAAKC,MAAML,GAAQH,EACjC,MAAOR,GAEP,OADAb,QAAQa,MAAMA,GACPQ,MANX,mBAAOS,EAAP,KAAoBC,EAApB,KAqBA,MAAO,CAACD,EAXS,SAACZ,GAChB,IACE,IAAMc,EACJd,aAAiBe,SAAWf,EAAMY,GAAeZ,EACnDa,EAAeC,GACfP,OAAOC,aAAaQ,QAAQd,EAAKQ,KAAKO,UAAUH,IAChD,MAAOnB,GACPb,QAAQa,MAAMA,OCjBdtB,EAAe,CACnB6C,MAAO,IAGIC,EAAczC,0BAErBC,EAAU,SAACC,EAAOC,GAEtB,OADAC,QAAQC,IAAI,sBAAuBF,GAC3BA,EAAOG,MACb,IAAK,mBACH,IAAMoC,EAAKvC,EAAOI,QAAQoC,QAAQD,GAE9BE,EAAY,KAEhB,GAHc1C,EAAMsC,MAAMK,KAAI,SAACjB,GAAD,OAAUA,EAAKc,MAAII,SAASJ,GAcxDE,EAVc1C,EAAMsC,MAAMK,KAAI,SAACjB,GAC7B,GAAIA,EAAKc,KAAOA,EAAI,CAClB,IAAMK,EAAcnB,EAAKoB,SAAW7C,EAAOI,QAAQoC,QAAQK,SAC3D,OAAO,2BACFpB,GADL,IAEEoB,SAAUD,EAAc,GAAK,GAAKA,IAGtC,OAAOnB,UAITgB,EAAS,sBAAO1C,EAAMsC,OAAb,CAAoBrC,EAAOI,QAAQoC,UAE9C,MAAO,CACLH,MAAOI,GAEX,IAAK,eAUH,MAAO,CACLJ,MAVYtC,EAAMsC,MAAMK,KAAI,SAACjB,GAC3B,OAAIA,EAAKc,KAAOvC,EAAOI,QAAQ0C,aACtB,2BACFrB,GADL,IAEEoB,SAAU7C,EAAOI,QAAQwC,cAGtBnB,MAKb,IAAK,mBACH,MAAO,CACLY,MAAOtC,EAAMsC,MAAMU,QAAO,SAACtB,GAAD,OAAUA,EAAKc,KAAOvC,EAAOI,QAAQ4C,iBAEnE,IAAK,aACH,OAAOxD,EACT,QACE,MAAM,IAAIa,MAAJ,0BAA6BL,EAAOG,SA0DjC8C,EAtDM,SAAC,GAAkB,IAAhBjC,EAAe,EAAfA,SACtB,EAAoDI,EAClD,YACA,IAFF,mBAAO8B,EAAP,KAA2BC,EAA3B,KAIMC,EAAqB,CACzBf,MAAOa,GAAsB,IAE/B,EAA0BjC,qBAAWnB,EAASsD,GAA9C,mBAAOrD,EAAP,KAAcQ,EAAd,KACM8C,EAAiBxB,KAAKO,UAAUrC,EAAMsC,OAI5C,OAHAiB,qBAAU,WACRH,EAAsBpD,EAAMsC,SAC3B,CAACc,EAAuBpD,EAAMsC,MAAOgB,IAEtC,cAACf,EAAYpB,SAAb,CAAsBC,MAAO,CAAEpB,QAAOQ,YAAtC,SACGS,K,gHCtECuC,EAASC,IAATD,KAqBOE,EAnBK,SAAC,GAAc,IAAZ7C,EAAW,EAAXA,KACrB,OAAa,OAATA,EAEA,eAAC,IAAD,CAAM8C,MAAO,CAAEC,OAAQ,KAAvB,UACE,cAAC,IAAD,CAAUC,QAAQ,SAClB,cAACL,EAAD,CAAMM,MAAM,GAAGC,YAAY,QAK7B,cAAC,IAAD,CAAMC,GAAI,CAAEC,SAAU,SAAWpD,EAAK2B,IAAtC,SACE,cAAC,IAAD,CAAM0B,WAAS,EAACC,MAAO,qBAAKC,IAAKvD,EAAKiD,MAAOO,IAAKxD,EAAKyD,QAAvD,SACE,cAACd,EAAD,CAAMM,MAAOjD,EAAK0D,KAAMR,YAAa,OAASlD,EAAK2D,aCgC9CC,EA7CE,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cAClB,EAA4BC,qBAAW9E,GAA/BG,EAAR,EAAQA,MAAOQ,EAAf,EAAeA,SACPd,EAAkCM,EAAlCN,SAAUC,EAAwBK,EAAxBL,UAAWC,EAAaI,EAAbJ,SAEvBgF,EACNlF,GAAYA,EAASsD,QAAO,SAAC6B,GAC3B,OACEA,EAAQN,KAAKO,cAAclC,SAAS8B,EAAcI,iBAAmBJ,KAQzE,OAJAnB,qBAAU,WACRhD,EAAYC,KACX,CAACA,IAEAb,EAEA,cAAC,IAAD,CAAKoF,OAAQ,CAAC,GAAI,IAAlB,SACG,IAAIC,MAAM,IAAIC,KAAK,MAAMtC,KAAI,SAACuC,EAAGC,GAChC,IAAM7D,EAAM6D,EAAQ,EACpB,OACE,cAAC,IAAD,CAAeC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAzC,SACE,cAAC,EAAD,CAAa1E,KAAM,QADXS,QAShB1B,GAAYgF,EAAaY,OAAS,EAElC,cAAC,IAAD,CAAKT,OAAQ,CAAC,GAAI,IAAlB,SACGH,EAAajC,KAAI,SAAC9B,GAAD,OAChB,cAAC,IAAD,CAAmBuE,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAA7C,SACE,cAAC,EAAD,CAAa1E,KAAMA,KADXA,EAAK2B,SAQhB,cAAC,IAAD,K,qDCxCDiD,EAAWC,IAAXD,OAkDOE,EAjDO,WACpB,MAAkDlE,mBAAS,KAA3D,mBAAQmE,EAAR,KAA0BC,EAA1B,KACMrD,EAAOsD,cAAPtD,GACN,EAA6CmC,qBAAW9E,GAAhDG,EAAR,EAAQA,MAAiB+F,EAAzB,EAAevF,SACPd,EAAkCM,EAAlCN,SAAUC,EAAwBK,EAAxBL,UAAWC,EAAaI,EAAbJ,SACXoG,EAAiBrB,qBAAWpC,GAAtC/B,SAMR,GAJA+C,qBAAU,WACRhD,EAAYwF,KACX,CAACA,IAEApG,EACF,OAAQ,qBAAKsG,UAAU,iBAAf,SAAgC,cAAC,IAAD,CAAMC,KAAK,YAIrD,IADA,IAAMC,EAAU,GACPC,EAAI,EAAGA,GAAK,GAAIA,IACvBD,EAAQE,KAAK,cAACZ,EAAD,CAAgBrE,MAAOgF,EAAvB,SAA2BA,GAAdA,IAG5B,GAAIxG,GAAYF,EAAU,CACxB,IAAImF,EAAUnF,EAAS4G,MAAK,SAAAC,GAAG,OAAIA,EAAI/D,GAAGgE,aAAehE,KAOzD,OACE,eAAC,IAAD,CAAKuC,OAAQ,CAAC,GAAI,IAAK0B,QAAQ,SAA/B,UACE,cAAC,IAAD,CAAKrB,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAxB,SACE,cAAC,IAAD,CAAOjB,IAAKQ,EAAQP,UAEtB,eAAC,IAAD,CAAKc,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAzB,UACE,oBAAIW,UAAU,QAAd,SAAuBpB,EAAQN,OAC/B,qBAAI0B,UAAU,QAAd,iBAA2BpB,EAAQL,SACnC,eAAC,IAAD,WACE,cAAC,IAAD,CAAQkC,aAAa,IAAI/C,MAAO,CAAEgD,MAAO,IAAMC,SAAUf,EAAzD,SACGM,IAEH,cAAC,IAAD,CAAQ/F,KAAK,UAAUyG,KAAM,cAACC,EAAA,EAAD,IAA0BC,QAlBvC,WACtB,IAAMrF,EAAI,2BAAQmD,GAAR,IAAiB/B,SAAUkE,OAAOpB,MHgDzB,SAACpF,EAAUkB,GAC3BlB,EAAS,CACdJ,KAAM,mBACNC,QAAS,CACPoC,QAASf,KGnDTuF,CAAUjB,EAActE,GACxBwF,IAAQC,QAAQtC,EAAQN,KAAO,eAezB,kCAMV,OAAO,cAAC,IAAD,K,mCChDDkB,EAAWC,IAAXD,OACA2B,EAAYC,IAAZD,QA0DOE,EAxDE,SAAC,GAIhB,IAJ8B,IAAZzG,EAAW,EAAXA,KACVL,EAAamE,qBAAWpC,GAAxB/B,SAEF2F,EAAU,GACPC,EAAI,EAAGA,GAAK,GAAIA,IACvBD,EAAQE,KACN,cAAC,EAAD,CAAgBjF,MAAOgF,EAAvB,SACGA,GADUA,IAuBjB,OACE,sBAAKH,UAAU,qBAAf,UACE,cAAC,IAAD,CAAMjC,GAAI,CAAEC,SAAU,SAAWpD,EAAK2B,IAAMmB,MAAO,CAAEC,OAAQ,QAA7D,SACE,qBACEQ,IAAKvD,EAAKiD,MACVO,IAAKxD,EAAKyD,MACV2B,UAAU,8BAGd,cAAC,IAAD,CAAMjC,GAAI,CAAEC,SAAU,SAAWpD,EAAK2B,IAAtC,SACE,oBAAIyD,UAAU,kBAAd,SAAiCpF,EAAK0D,SAExC,qBAAI0B,UAAU,8BAAd,iBAAiDpF,EAAK2D,SACtD,cAAC+C,EAAA,EAAD,CAAe5D,MAAO,CAAE6D,YAAa,KACrC,cAAC,IAAD,CAAQd,aAAc7F,EAAKiC,SAAUa,MAAO,CAAEgD,MAAO,IAAMC,SAlB1C,SAACxF,IJ+DM,SAACZ,EAAUiH,EAAQ3E,GACxCtC,EAAS,CACdJ,KAAM,eACNC,QAAS,CACP0C,aAAc0E,EACd5E,YAAaC,KInEf4E,CAAelH,EAAUK,EAAK2B,GAAIwE,OAAO5F,KAiBvC,SACG+E,IAEH,cAAC,IAAD,CACE/F,KAAK,OACLyG,KAAM,cAACc,EAAA,EAAD,IACNZ,QArCe,WACnBK,EAAQ,CACNtD,MAAO,mCAAqCjD,EAAK0D,KAAO,IACxDsC,KAAM,cAACc,EAAA,EAAD,IACNC,OAAQ,MACRC,WAAY,KACZC,OAAQ,SACRC,KANM,YJkEkB,SAACvH,EAAUiH,GAChCjH,EAAS,CACdJ,KAAM,mBACNC,QAAS,CACP4C,aAAcwE,KI/DZO,CAAexH,EAAUK,EAAK2B,QA8B9ByD,UAAU,yB,UCrDVmB,GAAYC,IAAZD,QAmEOa,GAjEA,WACb,MAA4BtD,qBAAWpC,GAA/BvC,EAAR,EAAQA,MAAOQ,EAAf,EAAeA,SACP8B,EAAUtC,EAAVsC,MAeR,GAAIA,EAAMkD,OAAS,EAAG,CAEpB,IADA,IAAI0C,EAAa,EACR9B,EAAI,EAAGA,EAAI9D,EAAMkD,OAAQY,IAChC8B,GAAc5F,EAAM8D,GAAG5B,MAAQlC,EAAM8D,GAAGtD,SAE1C,OACE,8BACE,eAAC,IAAD,CAAKiC,OAAQ,CAAC,GAAI,IAAK0B,QAAQ,SAA/B,UACE,eAAC,IAAD,CAAKrB,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAjC,UACE,sBAAKU,UAAU,WAAf,UACE,oBAAIA,UAAU,cAAd,qBACA,cAAC,IAAD,CACE7F,KAAK,OACLyG,KAAM,cAACc,EAAA,EAAD,IACNZ,QA3BO,WACnBK,GAAQ,CACNtD,MAAO,6CACP+C,KAAM,cAACc,EAAA,EAAD,IACNC,OAAQ,MACRC,WAAY,KACZC,OAAQ,SACRC,KANM,YL8Fa,SAACvH,GACjBA,EAAS,CACdJ,KAAM,eKzFF+H,CAAU3H,OAgBJ,iCAQF,cAAC,IAAD,CAASmD,MAAO,CAAEyE,UAAW,GAAIC,aAAc,SAEhD/F,EAAMK,KAAI,SAAC9B,GAAD,OACT,cAAC,IAAD,CAAmBuE,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAA/C,SACE,cAAC,EAAD,CAAU1E,KAAMA,KADRA,EAAK2B,OAIjB,eAAC,IAAD,CAAK4C,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAjC,UACE,cAAC,IAAD,CAAS5B,MAAO,CAAEyE,UAAW,GAAIC,aAAc,MAC/C,sBAAKpC,UAAU,aAAf,UACE,qBAAIA,UAAU,kBAAd,wBAA4CiC,KAC5C,cAAC,IAAD,CACE9H,KAAK,UACLyG,KAAM,cAACyB,GAAA,EAAD,IACNpC,KAAK,QACLvC,MAAO,CAAEgD,MAAO,KAJlB,iCAeZ,OAAO,cAAC,IAAD,KC5DD4B,I,OAA4BC,IAA5BD,QAAQE,GAAoBD,IAApBC,QAASC,GAAWF,IAAXE,OACjBC,GAAWC,IAAXD,OA+DOE,OA7Df,WACE,IAAIC,EAAWC,cACf,EAA0CtH,mBAAS,IAAnD,mBAAOiD,EAAP,KAAsBsE,EAAtB,KACA,EAA8BvH,mBAAS,QAAvC,mBAAOwH,EAAP,KAAgBC,EAAhB,KACQlJ,EAAU2E,qBAAWpC,GAArBvC,MAOFmJ,EAAc,WAClBH,EAAiB,KAGnB,OACE,eAAC,IAAD,CAAQ/C,UAAU,SAAlB,UACE,eAACsC,GAAD,CAAQtC,UAAU,SAAlB,UACE,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,CAAMjC,GAAG,IAAI+C,QAASoC,EAAtB,yBAIF,cAACR,GAAD,CACE1C,UAAU,mBACVmD,YAAY,oBACZC,YAAU,EACVC,SArBS,SAAClI,GAChB4H,EAAiB5H,GACjB0H,EAAS,KACTI,EAAW,WAoBP,eAAC,IAAD,CACEjD,UAAU,OACVsD,MAAM,QACNxC,QAAS,SAACyC,GAAD,OAAON,EAAWM,EAAElI,MAC7BmI,aAAc,CAACR,GACfS,KAAK,aALP,UAOE,cAAC,IAAKC,KAAN,CAAsB9C,KAAM,cAAC+C,EAAA,EAAD,IAA5B,SACE,cAAC,IAAD,CAAM5F,GAAG,IAAI+C,QAASoC,EAAtB,mBADa,QAKf,cAAC,IAAKQ,KAAN,CAAsB9C,KAAM,cAACC,EAAA,EAAD,IAA5B,SACE,eAAC,IAAD,CAAM9C,GAAG,WAAT,qBAA4B,cAAC,IAAD,CAAO6F,MAAO7J,EAAMsC,MAAMkD,OAAQU,KAAK,QAAvC,SAA+C,4BAD9D,cAKnB,cAACuC,GAAD,CAASxC,UAAU,sBAAnB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACE6D,KAAK,IACLC,QAAS,cAAC,EAAD,CAAUrF,cAAeA,MAEpC,cAAC,IAAD,CAAOoF,KAAK,WAAWC,QAAS,cAAC,GAAD,MAChC,cAAC,IAAD,CAAOD,KAAK,YAAYC,QAAS,cAAC,EAAD,WAGrC,cAACrB,GAAD,CAAQ/E,MAAO,CAAEqG,UAAW,UAA5B,8CCnDSC,OAZf,WACE,OACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,IAAD,CAAQC,SAAS,cAAjB,SACE,cAAC,GAAD,WCCKC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBjI,UACxC,8BAAqBxB,MAAK,YAAkD,IAA/C0J,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOD,GACPE,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAQL,OCDdM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BX,O","file":"static/js/main.4f8e0dad.chunk.js","sourcesContent":["import React, { useReducer, createContext } from \"react\";\nimport axios from \"axios\";\n\nconst initialState = {\n  products: null,\n  isLoading: false,\n  isLoaded: false\n};\n\nexport const ProductsContext = createContext();\n\nconst reducer = (state, action) => {\n  console.log(\"Pinned dispatched\", action)\n  switch (action.type) {\n    case \"GET_PRODUCTS_REQUEST\":\n      return {\n        ...state,\n        isLoading: true,\n        isLoaded: false\n      };\n    case \"GET_PRODUCTS_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isLoaded: true,\n        products: action.payload.products\n      };\n    case \"GET_PRODUCTS_FAILURE\":\n      return {\n        ...state,\n        products: null,\n        isLoading: false,\n        isLoaded: false\n      };\n    default:\n      throw new Error(`Unknown action: ${action.type}`);\n  }\n};\n\nconst ProductsProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <ProductsContext.Provider value={{ state, dispatch }}>\n        {children}\n    </ProductsContext.Provider>\n  );\n};\n\nexport const getProducts = (dispatch) => {\n  dispatch({\n    type: \"GET_PRODUCTS_REQUEST\"\n  });\n  axios\n    .get(\"https://molly0414.github.io/react-demo/data/items.json\")\n    .then((response) => {\n      dispatch({\n        type: \"GET_PRODUCTS_SUCCESS\",\n        payload: {\n          products: response.data\n        }\n      });\n    })\n    .catch((error) => {\n      console.error(error);\n      dispatch({\n        type: \"GET_PRODUCTS_FAILURE\"\n      });\n    });\n};\n\nexport default ProductsProvider;","import React from \"react\";\n\nfunction useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = React.useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;","import React, { useReducer, createContext, useEffect } from \"react\";\nimport useLocalStorage from \"hook/useLocalStorage\";\n\nconst initialState = {\n  items: [],\n};\n\nexport const CartContext = createContext();\n\nconst reducer = (state, action) => {\n  console.log(\"Pinned dispatched: \", action);\n  switch (action.type) {\n    case \"ADD_ITEM_TO_CART\":\n      const id = action.payload.newItem.id;\n      const isOld = state.items.map((item) => item.id).includes(id);\n      let cartItems = null;\n\n      if (isOld) {\n        const items = state.items.map((item) => {\n          if (item.id === id) {\n            const newQuantity = item.quantity + action.payload.newItem.quantity;\n            return {\n              ...item,\n              quantity: newQuantity > 10 ? 10 : newQuantity,\n            };\n          }\n          return item;\n        });\n        cartItems = items;\n      } else {\n        cartItems = [...state.items, action.payload.newItem];\n      }\n      return {\n        items: cartItems,\n      };\n    case \"CHANGE_COUNT\":\n      const items = state.items.map((item) => {\n          if (item.id === action.payload.changeItemId) {\n            return {\n              ...item,\n              quantity: action.payload.newQuantity,\n            };\n          }\n          return item;\n        });\n      return {\n        items: items\n      };\n    case \"REMOVE_FROM_CART\":\n      return {\n        items: state.items.filter((item) => item.id !== action.payload.removeItemId),\n      };\n    case \"CLEAR_CART\":\n      return initialState;\n    default:\n      throw new Error(`Unknown action: ${action.type}`);\n  }\n};\n\nconst CartProvider = ({ children }) => {\n  const [persistedCartItems, setPersistedCartItems] = useLocalStorage(\n    \"cartItems\",\n    []\n  );\n  const persistedCartState = {\n    items: persistedCartItems || [],\n  };\n  const [state, dispatch] = useReducer(reducer, persistedCartState);\n  const itemJsonString = JSON.stringify(state.items);\n  useEffect(() => {\n    setPersistedCartItems(state.items);\n  }, [setPersistedCartItems, state.items, itemJsonString]);\n  return (\n    <CartContext.Provider value={{ state, dispatch }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const addToCart = (dispatch, item) => {\n  return dispatch({\n    type: \"ADD_ITEM_TO_CART\",\n    payload: {\n      newItem: item,\n    },\n  });\n};\n\nexport const removeFromCart = (dispatch, itemId) => {\n  return dispatch({\n    type: \"REMOVE_FROM_CART\",\n    payload: {\n      removeItemId: itemId,\n    },\n  });\n};\n\nexport const changeQuantity = (dispatch, itemId, quantity) => {\n  return dispatch({\n    type: \"CHANGE_COUNT\",\n    payload: {\n      changeItemId: itemId,\n      newQuantity: quantity\n    }\n  })\n} \n\nexport const clearCart = (dispatch) => {\n  return dispatch({\n    type: \"CLEAR_CART\",\n  });\n};\n\nexport default CartProvider;\n","import React from \"react\";\nimport { Card, Skeleton } from 'antd';\nimport { Link } from \"react-router-dom\";\n\nconst { Meta } = Card;\n\nconst ProductCard = ({ data }) => {\n  if (data === null) {\n    return (\n      <Card style={{ height: 300 }}>\n        <Skeleton loading=\"true\" />\n        <Meta title=\"\" description=\"\"/>    \n      </Card>\n    );\n  } else {\n    return (\n      <Link to={{ pathname: \"/item/\" + data.id }}>\n        <Card hoverable cover={<img alt={data.title} src={data.image}/>}>\n          <Meta title={data.name} description={\"NT$ \" + data.price}/>    \n        </Card>\n      </Link>\n    );\n  }\n};\n\nexport default ProductCard;","import React, { useEffect, useContext } from \"react\";\nimport { ProductsContext, getProducts } from \"contexts/ProductsProvider\";\nimport { Row, Col, Empty } from 'antd';\nimport ProductCard from \"components/ProductCard\";\n\nconst Products = ({ searchKeyword }) => {\n  const { state, dispatch } = useContext(ProductsContext);\n  const { products, isLoading, isLoaded } = state\n\n  const productsList = \n  products && products.filter((product) => {\n    return (\n      product.name.toLowerCase().includes(searchKeyword.toLowerCase()) || !searchKeyword\n    );\n  });\n\n  useEffect(() => {\n    getProducts(dispatch);\n  }, [dispatch]);\n\n  if (isLoading) {\n    return (\n      <Row gutter={[24, 24]}>\n        {new Array(12).fill(null).map((_, index) => {\n          const key = index + 1;\n          return (\n            <Col key={key} xs={12} sm={8} md={6} xl={4}>\n              <ProductCard data={null}/>\n            </Col>\n            );\n        })}\n      </Row>\n    );\n  }\n\n  if (isLoaded && productsList.length > 0) {\n    return (\n      <Row gutter={[24, 24]}>\n        {productsList.map((data) => \n          <Col key={data.id} xs={12} sm={8} md={6} xl={4}>\n            <ProductCard data={data}/>\n          </Col>)\n        }\n      </Row>\n    );\n  }\n\n  return <Empty />;\n};\n\nexport default Products","import React, { useEffect, useContext, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { ProductsContext, getProducts } from \"contexts/ProductsProvider\";\nimport { Spin, Empty, Image, Row, Col, Button, Select, Space, message } from 'antd'\nimport { ShoppingCartOutlined } from '@ant-design/icons';\nimport { CartContext, addToCart } from \"contexts/CartProvider\";\n\nconst { Option } = Select\nconst ProductDetail = () => {\n  const [ selectedQuantity, setSelectedQuantity ] = useState(\"1\")\n  let { id } = useParams();\n  const { state, dispatch: productDispatch } = useContext(ProductsContext);\n  const { products, isLoading, isLoaded } = state\n  const { dispatch: cartDispatch } = useContext(CartContext);\n\n  useEffect(() => {\n    getProducts(productDispatch);\n  }, [productDispatch]);\n\n  if (isLoading) {\n    return (<div className=\"center-content\"><Spin size=\"large\" /></div>)  \n  }\n\n  const options = [];\n  for (let i = 1; i <= 10; i++) {\n    options.push(<Option key={i} value={i}>{i}</Option>);\n  }\n\n  if (isLoaded && products) {\n    let product = products.find(obj => obj.id.toString() === id);\n    const handleAddToCart = () => {\n      const item = { ...product, quantity: Number(selectedQuantity) };\n      addToCart(cartDispatch, item);\n      message.success(product.name + ' is added.');\n    };\n\n    return (\n      <Row gutter={[24, 24]} justify=\"center\">\n        <Col xs={18} sm={9} md={6}>\n          <Image src={product.image} />\n        </Col>\n        <Col xs={18} sm={12} md={8}>\n          <h1 className=\"title\">{product.name}</h1>\n          <h1 className=\"price\">NT$ {product.price}</h1>\n          <Space>\n            <Select defaultValue=\"1\" style={{ width: 60 }} onChange={setSelectedQuantity}>\n              {options}\n            </Select>\n            <Button type=\"primary\" icon={<ShoppingCartOutlined />} onClick={handleAddToCart}>ADD TO CART</Button>\n          </Space>\n        </Col>\n      </Row>\n    );\n  }\n  return <Empty />  \n};\n\nexport default ProductDetail;\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext, removeFromCart, changeQuantity } from \"contexts/CartProvider\";\nimport { Button, Modal, Select } from \"antd\";\nimport { CloseOutlined, DeleteOutlined } from \"@ant-design/icons\";\n\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nconst CartItem = ({ data }) => {\n  const { dispatch } = useContext(CartContext);\n\n  const options = [];\n  for (let i = 1; i <= 10; i++) {\n    options.push(\n      <Option key={i} value={i}>\n        {i}\n      </Option>\n    );\n  }\n\n  const handleRemove = () => {\n    confirm({\n      title: \"Are you sure you want to delete \" + data.name + \"?\",\n      icon: <DeleteOutlined />,\n      okText: \"Yes\",\n      cancelText: \"No\",\n      okType: 'danger',\n      onOk() {\n        removeFromCart(dispatch, data.id);\n      },\n    });\n  };\n\n  const handleChange = (value) => {\n    changeQuantity(dispatch, data.id, Number(value))\n  }\n\n  return (\n    <div className=\"cart-item flex-row\">\n      <Link to={{ pathname: \"/item/\" + data.id }} style={{ height: \"100%\" }}>\n        <img\n          alt={data.title}\n          src={data.image}\n          className=\"cart-item-img hidden-sm\"\n        />\n      </Link>\n      <Link to={{ pathname: \"/item/\" + data.id }}>\n        <h3 className=\"cart-item-title\">{data.name}</h3>\n      </Link>\n      <h3 className=\"cart-item-price flex-grow-1\">NT$ {data.price}</h3>\n      <CloseOutlined style={{ marginRight: 8 }} />\n      <Select defaultValue={data.quantity} style={{ width: 60 }} onChange={handleChange}>\n        {options}\n      </Select>\n      <Button\n        type=\"text\"\n        icon={<DeleteOutlined />}\n        onClick={handleRemove}\n        className=\"cart-item-delete\"\n      />\n    </div>\n  );\n};\n\nexport default CartItem;\n","import React, { useContext } from \"react\";\nimport { Row, Col, Empty, Divider, Button, Modal } from \"antd\";\nimport CartItem from \"components/CartItem\";\nimport { DeleteOutlined, CheckCircleFilled } from \"@ant-design/icons\";\nimport { CartContext, clearCart } from \"contexts/CartProvider\";\n\nconst { confirm } = Modal;\n\nconst MyCart = () => {\n  const { state, dispatch } = useContext(CartContext);\n  const { items } = state;\n\n  const handleRemove = () => {\n    confirm({\n      title: \"Are you sure you want to remove all items?\",\n      icon: <DeleteOutlined />,\n      okText: \"Yes\",\n      cancelText: \"No\",\n      okType: 'danger',\n      onOk() {\n        clearCart(dispatch);\n      },\n    });\n  };\n\n  if (items.length > 0) {\n    let totalPrice = 0;\n    for (let i = 0; i < items.length; i++) {\n      totalPrice += items[i].price * items[i].quantity;\n    }\n    return (\n      <div>\n        <Row gutter={[12, 12]} justify=\"center\">\n          <Col xs={24} sm={21} md={18} xl={15}>\n            <div className=\"flex-row\">\n              <h2 className=\"flex-grow-1\">My Cart</h2>\n              <Button\n                type=\"text\"\n                icon={<DeleteOutlined />}\n                onClick={handleRemove}\n              >\n                Remove all items\n              </Button>\n            </div>\n            <Divider style={{ marginTop: 12, marginBottom: 12 }}/>\n          </Col>\n          {items.map((data) => (\n            <Col key={data.id} xs={24} sm={21} md={18} xl={15}>\n              <CartItem data={data} />\n            </Col>\n          ))}\n          <Col xs={24} sm={21} md={18} xl={15}>\n            <Divider style={{ marginTop: 12, marginBottom: 12 }}/>\n            <div className=\"cart-total\">\n              <h2 className=\"cart-item-price\">Total: NT$ {totalPrice}</h2>\n              <Button\n                type=\"primary\"\n                icon={<CheckCircleFilled />}\n                size=\"large\"\n                style={{ width: 180 }}\n              >\n                CHECKOUT\n              </Button>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  return <Empty />;\n};\n\nexport default MyCart;\n","import React, { useState, useContext } from \"react\";\nimport { Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport { Layout, Menu, Input, Badge } from \"antd\";\nimport { HomeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport Products from \"pages/Products\";\nimport ProductDetail from 'pages/ProductDetail';\nimport MyCart from \"pages/MyCart\"; \nimport { CartContext } from \"contexts/CartProvider\";\nimport 'App.css';\n\nconst { Header, Content, Footer } = Layout;\nconst { Search } = Input;\n\nfunction AppContent() {\n  let navigate = useNavigate();\n  const [searchKeyword, setSearchKeyword] = useState(\"\");\n  const [current, setCurrent] = useState(\"home\");\n  const { state } = useContext(CartContext);\n\n  const onSearch = (value) => {\n    setSearchKeyword(value);\n    navigate(\"/\");\n    setCurrent(\"home\")\n  };\n  const clearSearch = () => {\n    setSearchKeyword(\"\");\n  };\n\n  return (\n    <Layout className=\"layout\">\n      <Header className=\"header\">\n        <div className=\"logo\">\n          <Link to=\"/\" onClick={clearSearch}>\n            Test Logo\n          </Link>\n        </div>\n        <Search\n          className=\"search hidden-sm\"\n          placeholder=\"Input search text\"\n          allowClear\n          onSearch={onSearch}\n        />\n        <Menu\n          className=\"menu\"\n          theme=\"light\"\n          onClick={(e) => setCurrent(e.key)}\n          selectedKeys={[current]}\n          mode=\"horizontal\"\n        >\n          <Menu.Item key=\"home\" icon={<HomeOutlined />}>\n            <Link to=\"/\" onClick={clearSearch}>\n              Home\n            </Link>\n          </Menu.Item>\n          <Menu.Item key=\"cart\" icon={<ShoppingCartOutlined />}>\n            <Link to=\"/my-cart\">My Cart <Badge count={state.items.length} size=\"small\"><p/></Badge></Link>\n          </Menu.Item>\n        </Menu>\n      </Header>\n      <Content className=\"site-layout-content\">\n        <Routes>\n          <Route\n            path=\"/\"\n            element={<Products searchKeyword={searchKeyword} />}\n          />\n          <Route path=\"/my-cart\" element={<MyCart />} />\n          <Route path=\"/item/:id\" element={<ProductDetail />} />\n        </Routes>\n      </Content>\n      <Footer style={{ textAlign: \"center\" }}>©2021 Created by Molly Wu</Footer>\n    </Layout>\n  );\n}\n\nexport default AppContent;\n","import React from 'react';\nimport ProductsProvider from \"contexts/ProductsProvider\";\nimport CartProvider from 'contexts/CartProvider';\nimport AppContent from 'components/AppContent';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <ProductsProvider>\n      <CartProvider>\n        <Router basename=\"/react-demo\">\n          <AppContent />\n        </Router>\n      </CartProvider> \n    </ProductsProvider>\n  )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}